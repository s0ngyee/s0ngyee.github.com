<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[s0ngyee]]></title>
  <link href="http://s0ngyee.github.com/atom.xml" rel="self"/>
  <link href="http://s0ngyee.github.com/"/>
  <updated>2013-01-21T12:04:35+08:00</updated>
  <id>http://s0ngyee.github.com/</id>
  <author>
    <name><![CDATA[s0ngyee Bian]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Makefile 测试]]></title>
    <link href="http://s0ngyee.github.com/blog/2013/01/18/makefile-ce-shi/"/>
    <updated>2013-01-18T16:56:00+08:00</updated>
    <id>http://s0ngyee.github.com/blog/2013/01/18/makefile-ce-shi</id>
    <content type="html"><![CDATA[<p>Makefile脚本中应使用tab替代空格，参见<a href="http://blog.songyee.com/blog/2013/01/17/octopressda-jian-github-pages/">上篇</a> Makefile部分</p>

<!--more-->




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>blog:
</span><span class='line'>    git pull <span class="o">&amp;&amp;</span> <span class="se">\</span>
</span><span class='line'>    rake setup_github_pages<span class="se">\[</span>git@github.com:s0ngyee/s0ngyee.github.git<span class="se">\]</span> <span class="o">&amp;&amp;</span> <span class="se">\</span>
</span><span class='line'>    bundle install <span class="o">&amp;&amp;</span> <span class="se">\</span>
</span><span class='line'>    rake integrate <span class="o">&amp;&amp;</span> <span class="se">\</span>
</span><span class='line'>    rake generate <span class="o">&amp;&amp;</span> <span class="se">\</span>
</span><span class='line'>    rake deploy <span class="o">&amp;&amp;</span> <span class="se">\</span>
</span><span class='line'>    git add .; <span class="se">\</span>
</span><span class='line'>    git commit -am <span class="s2">&quot;${MSG}&quot;</span>; <span class="se">\</span>
</span><span class='line'>    git push origin master
</span><span class='line'>.PHONY: blog%
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopress搭建github pages]]></title>
    <link href="http://s0ngyee.github.com/blog/2013/01/17/octopressda-jian-github-pages/"/>
    <updated>2013-01-17T17:21:00+08:00</updated>
    <id>http://s0ngyee.github.com/blog/2013/01/17/octopressda-jian-github-pages</id>
    <content type="html"><![CDATA[<p>折腾一天终于有所进展了。<br />
看了N篇blog，相关联的知识也找了不少磕磕绊绊的。<br />
写篇日志总结一下，文思如尿路，给自己看，不奢求写的有多流畅有多完美。</p>

<!-- more -->


<h3>简介</h3>

<p><a href="http://octopress.org/">Octopress</a>是使用Ruby语言编写的建立在jekyll上的一套blog系统。</p>

<p>优点:<br />
使用<a href="http://zh.wikipedia.org/wiki/Markdown">markdown</a>标记语言编写文章。<br />
与git集成，通过git对blog进行维护。<br />
可以与github pages进行集成，将个人blog免费托管在github上。<br /></p>

<p>个人缺乏相关知识:<br />
没有接触ruby及相关运行环境，对gem, rake, bundle等工具或类库没有概念。<br />
github没有实际做过代码托管。<br /></p>

<h3>Ruby</h3>

<h4>安装</h4>

<p>一开始采用源码编译的方式进行安装，之后发现无法解析yml文件，编译时忘记加入依赖类库的。惰性使然没有去找依赖类库重新编译，同学推荐rvm的方式来进行安装和管理，果断换一种方式。</p>

<h4>RVM</h4>

<p>安装RVM</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>bash -s stable &lt; &lt;<span class="o">(</span>curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer<span class="o">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>安装Ruby</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rvm install 1.9.3 <span class="o">&amp;&amp;</span> rvm use 1.9.3
</span></code></pre></td></tr></table></div></figure>


<h4>Gem</h4>

<p>RubyGems（简称 gems）是一个用于对 Rails 组件进行打包的 Ruby 打包系统。 它提供一个分发 Ruby 程序和库的标准格式，还提供一个管理程序包安装的工具。</p>

<p>详细介绍参阅了<a href="http://lanvige.iteye.com/blog/804477">这篇</a></p>

<h4>Bundle</h4>

<p>octopress安装过程中有用到bundle命令，顺便提一下bundle是用来管理项目中所有gem的依赖
Gem介绍中对bundle也有说明</p>

<h4>Rake</h4>

<p>简单而言，Rake是一个由ruby编写的build工具。</p>

<p>Rake是由ruby实现的，它的rakefile完全是由ruby语法定义的，所以它是一种内部DSL&#8211;基于另一种语言（宿主语言）编写的DSL。</p>

<p>参见<a href="http://rails-weekly.group.iteye.com/group/wiki/1830-rails-questions-weekly-15-rake">这里</a></p>

<hr />

<h3>github</h3>

<p>需要安装git，这里使用Mountain Lion内置的。</p>

<p>在本机生成ssh key，按着github上的<a href="https://help.github.com/articles/generating-ssh-keys">help</a>做的，将公钥加入github的帐户中。</p>

<p>在github上<a href="https://github.com/new">创建</a>一个版本库，因为后面要将octopress和github pages进行集成，版本库名称应为username.github.com</p>

<hr />

<h3>Octopress</h3>

<h4>安装</h4>

<ul>
<li>获取源码</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git clone git://github.com/imathis/octopress.git octopress
</span><span class='line'>ruby --version  //Ruby的版本需要在1.9.2版本以上
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>安装依赖插件</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>gem install bundler
</span><span class='line'>bundle install
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>安装主题</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake install
</span></code></pre></td></tr></table></div></figure>


<ul>
<li><p>配置blog
参见<a href="http://octopress.org/docs/configuring/">这里</a></p></li>
<li><p>配置github分支</p></li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake setup_github_pages
</span></code></pre></td></tr></table></div></figure>


<p>执行后会提示输入git的URL，输入刚才建立的git地址</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git@github.com:username/username.github.com.git
</span></code></pre></td></tr></table></div></figure>


<h4>发表文章</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake new_post<span class="o">[</span><span class="s1">&#39;post name&#39;</span><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>在source/_post目录下会根据当前日期生成相应的目录以及文章的.markdown文件，使用markdown语言对文章内容进行编辑。</p>

<h4>生成预览</h4>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake generate
</span><span class='line'>rake preview
</span></code></pre></td></tr></table></div></figure>


<p>就可以在本地<a href="http://localhost:4000">http://localhost:4000</a>预览了。</p>

<h4>提交</h4>

<p>最后使用以下命令将blog内容提交到github上。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>rake deploy
</span></code></pre></td></tr></table></div></figure>


<h4>提交源码</h4>

<p>上一步完成以后，_deploy里的blog内容已经提交到了github上，并可以通过github pages进行访问了。此时本地git分支也会自动切换到source分支，最后将blog源码也提交到github上方便以后维护。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>git add .
</span><span class='line'>git commit -m <span class="s1">&#39;commit message&#39;</span>
</span><span class='line'>git push origin <span class="nb">source</span>
</span></code></pre></td></tr></table></div></figure>


<p>至此octopress基本功能部署完成，接下来就是对blog进行customize，目前为止就整了两个部分，如下所示。</p>

<h4>个性化域名</h4>

<p>想使用custom domain来替换原来的s0ngyee.github.com，依照教程所做的在根目录下创建CNAME文件内容为customize domain，可用以下命令进行创建</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">echo</span> <span class="s1">&#39;your-domain.com&#39;</span> &gt;&gt; <span class="nb">source</span>/CNAME
</span></code></pre></td></tr></table></div></figure>


<p>然后在域名服务器上将二级域名指向到207.97.227.245，等域名服务器刷新便可以了。</p>

<hr />

<h3>插件及模板修改</h3>

<p>现在还缺少友情链接，文章评论的功能，关于的页面尚未完成。如有修改会及时进行记录。</p>

<h4>分类列表</h4>

<p>主要步骤如下</p>

<ul>
<li>编写基于Jekyll的插件，并在模板引擎中注册分类标签类，本人不懂ruby就看了个大概。</li>
<li>在边栏引用目录中添加新的边栏模板文件</li>
<li>修改配置文件边栏项</li>
</ul>


<p>详细参见<a href="http://codemacro.com/2012/07/18/add-category-list-to-octopress/">这篇</a></p>

<h4>微博分享</h4>

<p>今天在文章结尾处添加了微博分享的功能，照<a href="http://programus.github.com/blog/2012/03/04/share-weibo-button/">葫芦</a>画瓢跟着做。去新浪微博<a href="http://open.weibo.com/sharebutton">分享按钮</a>，生成按钮代码（最终是获取document.write里的那一段iframe代码）。等待测试&#8230;</p>

<hr />

<h3>Other</h3>

<h4>Markdown语法</h4>

<p>Markdown 是一种轻量级标记语言，创始人为John Gruber和Aaron Swartz。它允许人们“使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML(或者HTML)文档”。[1]这种语言吸收了很多在电子邮件中已有的纯文本标记的特性。</p>

<p><a href="http://wowubuntu.com/markdown/">Markdown 语法说明</a></p>

<h5>Makefile</h5>

<p>同学给了一个Makefile文件，可以通过make命令直接发布blog，修改源码的时候看到Makefile最后有一个.PHONY不太明白于是又补了一下<a href="http://blog.csdn.net/xjtuse_mal/article/details/5404894">相关知识</a>，对这个稍稍有了了解。</p>

<p>在一个老外的<a href="http://kvz.io/blog/2012/09/25/blog-with-octopress/">blog</a>上找到了这段Makefile的出处</p>

<hr />

<h3>总结</h3>

<p>回顾一下整个安装部署流程，对于ruby一窍不同的我显得十分费力，折腾了两天体会到同学之前说的 ，如果相关知识都了解的话，半个小时一个小时就可以搞定的。全部流程走一遍，对一些名词总算有些概念了。</p>

<p>实在记不下这么多，还是用写的踏实点，之前一年养成用evernote的习惯，希望之后能够慢慢加强一下，记笔记的同时顺便将重要的东西发布在blog上。本篇还是边抄别人边自己总结，一字一字码出来的，虽说自己内容不多，只是把别人的东西重新组织整理了一下。</p>

<hr />

<h3>参考</h3>

<h4><a href="http://octopress.org/docs/deploying/github/">Deploying to Github Pages</a></h4>

<h4><a href="http://octopress.org/docs/configuring/">Configuring Octopress</a></h4>

<h4><a href="http://octopress.org/docs/deploying/github/">Deploying to Github Pages</a></h4>

<h4><a href="https://github.com/imathis/octopress/wiki/3rd-party-plugins">3rd-party-plugins</a></h4>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[准备挪窝了]]></title>
    <link href="http://s0ngyee.github.com/blog/2013/01/17/zhun-bei-nuo-wo-liao/"/>
    <updated>2013-01-17T07:22:00+08:00</updated>
    <id>http://s0ngyee.github.com/blog/2013/01/17/zhun-bei-nuo-wo-liao</id>
    <content type="html"><![CDATA[<p>上周同学推荐octopress+github pages 托管在github上，减轻服务器负担考虑把blog迁移到这里。折腾了一天弄出来个基本的终于能写blog了，尽快熟悉起来以后东西都记这里了。</p>
]]></content>
  </entry>
  
</feed>
